import{A as k}from"./AppLayout-OflP5zYw.js";import{D}from"./index-DdClwp8N.js";import{_ as y}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as j,V as i,b as v}from"./VMain-DQQwScRe.js";import{V as I}from"./VSpacer-DPb5g0gs.js";import{V as d}from"./VTextField-lRESKyaC.js";import{V as S,c as T,a as A,b as E}from"./VCard-DLzqHLpN.js";import{V as p,a as m}from"./VRow-59tK4lLu.js";import{V as w}from"./filter-BnAl0SOL.js";import{V as B}from"./VTextarea-DSeo0Ije.js";import{V as N}from"./VDialog-YbFqzVN0.js";import{V as P}from"./index-u-zX2pI_.js";import{V as U}from"./VDataTable-Cx3L5HDh.js";import{o as f,c as x,w as o,m as V,a as n,b as e,i as a,t as c,f as g,h as b}from"./app-Cl5oehoc.js";import"./VAvatar-DU_qoMnl.js";import"./easing-DY7PVvcf.js";import"./forwardRefs-C-GTDzx5.js";import"./form-Cs-gquPx.js";import"./VCheckboxBtn-C76ZE-Us.js";const R={components:{DatePicker:D,AppLayout:k},data(){return{form:this.$inertia.form({id:null,project_id:null,fullname:null,email:null,phone:null,address:null,natID:null,dob:null}),headers:[{title:"ID",key:"id"},{title:"Client Fullname",key:"fullname"},{title:"Project",key:"project_id"},{title:"NatID",key:"natID"},{title:"Actions",key:"actions",sortable:!1}],dialog:!1,search:"",clientRules:[l=>!!l||"Please Enter Client Name"],natIDRules:[l=>!!l||"National ID is Required"]}},methods:{submitForm(){this.form.post(route("admin.clients.store"),{onSuccess:()=>{this.closeDialog()}})},closeDialog(){this.dialog=!1,this.form.reset()},editSubject(l){this.form.id=l.id,this.form.project_id=l.project_id,this.form.fullname=l.fullname,this.form.email=l.email,this.form.phone=l.phone,this.form.address=l.address,this.form.natID=l.natID,this.form.dob=l.dob,this.dialog=!0},deleteSubject(l){this.$swal.fire({title:"Are you sure?",showDenyButton:!0,icon:"question",confirmButtonText:"Delete",denyButtonText:"Cancel"}).then(t=>{t.isConfirmed&&this.$inertia.visit(route("admin.clients.destroy",l),{method:"delete"})})}}},F={class:"glass pa-3"},L=n("label",{for:"start_date"},"Select Date of Birth",-1),q=n("br",null,null,-1),z={key:0,class:"_12px",style:{color:"red"}},G=n("br",null,null,-1),H=n("br",null,null,-1),J=n("br",null,null,-1),K=n("br",null,null,-1),M={key:0},O={class:"d-flex"};function Q(l,t,W,X,r,u){const h=V("DatePickerEs"),_=V("AppLayout");return f(),x(_,{title:"All Payments"},{default:o(()=>[n("div",F,[e(v,{class:"rounded-lg px-2 mb-5",density:"comfortable"},{default:o(()=>[e(j,null,{default:o(()=>[a(" All Clients ("+c(l.$page.props.clients.length)+") ",1)]),_:1}),e(I),e(d,{modelValue:r.search,"onUpdate:modelValue":t[0]||(t[0]=s=>r.search=s),"hide-details":"",variant:"solo",density:"compact",class:"mr-3",placeholder:"Search...","prepend-inner-icon":"mdi-magnify"},null,8,["modelValue"]),e(i,{onClick:t[1]||(t[1]=s=>r.dialog=!0),variant:"flat"},{default:o(()=>[a(" Add Client ")]),_:1})]),_:1}),e(N,{"max-width":"600",modelValue:r.dialog,"onUpdate:modelValue":t[9]||(t[9]=s=>r.dialog=s),persistent:""},{default:o(()=>[e(S,{variant:"flat"},{default:o(()=>[e(T,{class:"mb-5"},{default:o(()=>[a("Client Information Form")]),_:1}),e(A,null,{default:o(()=>[e(p,null,{default:o(()=>[e(m,{cols:"12",md:"12"},{default:o(()=>[e(d,{modelValue:r.form.fullname,"onUpdate:modelValue":t[2]||(t[2]=s=>r.form.fullname=s),label:"Select Client Name","prepend-inner-icon":"mdi-account",item:l.$page.props.fullname,rules:r.clientRules,"error-messages":l.$page.props.errors.fullname},null,8,["modelValue","item","rules","error-messages"]),e(w,{modelValue:r.form.project_id,"onUpdate:modelValue":t[3]||(t[3]=s=>r.form.project_id=s),label:"Please Select Project","prepend-inner-icon":"mdi-book",items:l.$page.props.projects,"item-title":"name","item-value":"id","error-messages":l.$page.props.errors.project_id},null,8,["modelValue","items","error-messages"])]),_:1})]),_:1}),e(p,{class:"mt-n8"},{default:o(()=>[e(m,{cols:"12",md:"6"},{default:o(()=>[L,a(),q,e(h,{valueType:"format",value:r.form.dob,"onUpdate:value":t[4]||(t[4]=s=>r.form.dob=s)},null,8,["value"]),l.$page.props.errors.dob?(f(),g("span",z,c(l.$page.props.errors.dob),1)):b("",!0)]),_:1}),e(m,{cols:"12",md:"6"},{default:o(()=>[G,e(d,{modelValue:r.form.natID,"onUpdate:modelValue":t[5]||(t[5]=s=>r.form.natID=s),label:"Enter Client National ID","prepend-inner-icon":"mdi-book",rules:r.natIDRules,"error-messages":l.$page.props.errors.natID},null,8,["modelValue","rules","error-messages"])]),_:1})]),_:1}),e(p,{class:"mt-n8"},{default:o(()=>[e(m,{cols:"12",md:"6"},{default:o(()=>[H,e(d,{modelValue:r.form.email,"onUpdate:modelValue":t[6]||(t[6]=s=>r.form.email=s),label:"Enter Client Email","prepend-inner-icon":"mdi-book","error-messages":l.$page.props.errors.email},null,8,["modelValue","error-messages"])]),_:1}),e(m,{cols:"12",md:"6"},{default:o(()=>[J,e(d,{modelValue:r.form.phone,"onUpdate:modelValue":t[7]||(t[7]=s=>r.form.phone=s),label:"Enter Client Phone","prepend-inner-icon":"mdi-book","error-messages":l.$page.props.errors.phone},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),e(p,{class:"mt-n8"},{default:o(()=>[e(m,{cols:"12",md:"12"},{default:o(()=>[K,e(B,{rows:"3",modelValue:r.form.address,"onUpdate:modelValue":t[8]||(t[8]=s=>r.form.address=s),label:"Enter Client address","prepend-inner-icon":"mdi-book","error-messages":l.$page.props.errors.address},null,8,["modelValue","error-messages"])]),_:1})]),_:1})]),_:1}),e(E,{class:"mt-n5"},{default:o(()=>[e(i,{class:"mx-1",variant:"flat",color:"warning",onClick:u.closeDialog},{default:o(()=>[a("Cancel")]),_:1},8,["onClick"]),e(i,{variant:"flat",class:"mx-1",color:"primary",onClick:u.submitForm,loading:r.form.processing},{default:o(()=>[a(" Submit ")]),_:1},8,["onClick","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(U,{items:l.$page.props.clients,headers:r.headers,search:r.search},{"item.project_id":o(({item:s})=>[s.project?(f(),g("span",M,c(s.project.name),1)):b("",!0)]),"item.actions":o(({item:s})=>[n("div",O,[e(i,{class:"mx-1",color:"success"},{default:o(()=>[a("View")]),_:1}),e(i,{class:"mx-1",onClick:C=>u.editSubject(s)},{default:o(()=>[a("Edit")]),_:2},1032,["onClick"]),e(i,{color:"error",class:"mx-1",onClick:C=>u.deleteSubject(s)},{default:o(()=>[e(P,null,{default:o(()=>[a("mdi-trash-can")]),_:1})]),_:2},1032,["onClick"])])]),_:1},8,["items","headers","search"])])]),_:1})}const ge=y(R,[["render",Q]]);export{ge as default};
