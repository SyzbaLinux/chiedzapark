import{A as g}from"./AppLayout-BJnmyz72.js";import{D as b}from"./index-CdRY2Twu.js";import{_ as k}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as h,V as i,b as y}from"./VMain-l479Zb3L.js";import{V as C}from"./VSpacer-BSGohfrL.js";import{V as n}from"./VTextField-Ck1dqWXX.js";import{V as S,c as j,a as v,b as D}from"./VCard-Bhjw8zLL.js";import{V as u,a as d}from"./VRow-uCI4L_vS.js";import{V as A,a as T,b as q}from"./VDialog-D2sg3Y5f.js";import{V as w}from"./VAvatar-Be7A3W-i.js";import{o as c,c as B,w as r,m as x,a as p,b as e,i as a,t as f,f as P,h as U}from"./app-BC1dH9xr.js";import"./easing-DY7PVvcf.js";import"./forwardRefs-C-GTDzx5.js";import"./form-3dzU4Hie.js";import"./VCheckboxBtn-Xt9SGpiJ.js";const N={components:{DatePicker:b,AppLayout:g},data(){return{form:this.$inertia.form({id:null,project_id:null,stand_number:null,price:null,square_metres:null,electrification_costs:null,is_taken:0,custom_price:0}),headers:[{title:"ID",key:"id"},{title:"Stand No",key:"stand_number"},{title:"Project",key:"project_id"},{title:"Price",key:"price"},{title:"Electrification",key:"electrification_costs"},{title:"SQmtrs",key:"square_metres"},{title:"Actions",key:"actions",sortable:!1}],dialog:!1,search:""}},methods:{submitForm(){this.form.post(route("admin.stands.store"),{onSuccess:()=>{this.closeDialog()}})},closeDialog(){this.dialog=!1,this.form.reset()},editSubject(o){this.form.id=o.id,this.form.project_id=o.project_id,this.form.stand_number=o.stand_number,this.form.price=o.price,this.form.square_metres=o.square_metres,this.form.electrification_costs=o.electrification_costs,this.form.is_taken=o.is_taken,this.form.custom_price=o.custom_price,this.dialog=!0},deleteSubject(o){this.$swal.fire({title:"Are you sure?",icon:"question",showDenyButton:!0,confirmButtonText:"Delete",denyButtonText:"Cancel"}).then(s=>{s.isConfirmed&&this.$inertia.visit(route("admin.stands.destroy",o),{method:"delete"})})}}},E={class:"glass pa-3"},F={key:0},I={class:"d-flex"};function L(o,s,R,M,l,m){const _=x("AppLayout");return c(),B(_,{title:"All Payments"},{default:r(()=>[p("div",E,[e(y,{class:"rounded-lg px-2 mb-5",density:"comfortable"},{default:r(()=>[e(h,null,{default:r(()=>[a(" All Stands ("+f(o.$page.props.stands.length)+") ",1)]),_:1}),e(C),e(n,{modelValue:l.search,"onUpdate:modelValue":s[0]||(s[0]=t=>l.search=t),"hide-details":"",variant:"solo",density:"compact",class:"mr-3",placeholder:"Search...","prepend-inner-icon":"mdi-magnify"},null,8,["modelValue"]),e(i,{onClick:s[1]||(s[1]=t=>l.dialog=!0),variant:"flat"},{default:r(()=>[a(" Add Stand ")]),_:1})]),_:1}),e(T,{"max-width":"600",modelValue:l.dialog,"onUpdate:modelValue":s[7]||(s[7]=t=>l.dialog=t),persistent:""},{default:r(()=>[e(S,{variant:"flat"},{default:r(()=>[e(j,{class:"mb-5"},{default:r(()=>[a("Stand Information Form")]),_:1}),e(v,null,{default:r(()=>[e(u,null,{default:r(()=>[e(d,{cols:"12",md:"12"},{default:r(()=>[e(n,{modelValue:l.form.stand_number,"onUpdate:modelValue":s[2]||(s[2]=t=>l.form.stand_number=t),label:"Enter Stand No","prepend-inner-icon":"mdi-account",item:o.$page.props.stand_number,rules:o.clientRules,"error-messages":o.$page.props.errors.stand_number},null,8,["modelValue","item","rules","error-messages"]),e(A,{modelValue:l.form.project_id,"onUpdate:modelValue":s[3]||(s[3]=t=>l.form.project_id=t),label:"Please Select Project","prepend-inner-icon":"mdi-book",items:o.$page.props.projects,"item-title":"name","item-value":"id","error-messages":o.$page.props.errors.project_id},null,8,["modelValue","items","error-messages"])]),_:1})]),_:1}),e(u,null,{default:r(()=>[e(d,{cols:"12",md:"4"},{default:r(()=>[e(n,{type:"number",modelValue:l.form.price,"onUpdate:modelValue":s[4]||(s[4]=t=>l.form.price=t),label:"Stand Price","prepend-inner-icon":"mdi-book","error-messages":o.$page.props.errors.price},null,8,["modelValue","error-messages"])]),_:1}),e(d,{cols:"12",md:"4"},{default:r(()=>[e(n,{type:"number",modelValue:l.form.electrification_costs,"onUpdate:modelValue":s[5]||(s[5]=t=>l.form.electrification_costs=t),label:"Electrification Costs","prepend-inner-icon":"mdi-book","error-messages":o.$page.props.errors.electrification_costs},null,8,["modelValue","error-messages"])]),_:1}),e(d,{cols:"12",md:"4"},{default:r(()=>[e(n,{type:"number",modelValue:l.form.square_metres,"onUpdate:modelValue":s[6]||(s[6]=t=>l.form.square_metres=t),label:"Square Metress","prepend-inner-icon":"mdi-book","error-messages":o.$page.props.errors.square_metres},null,8,["modelValue","error-messages"])]),_:1})]),_:1})]),_:1}),e(D,{class:"mt-n5"},{default:r(()=>[e(i,{class:"mx-1",variant:"flat",color:"warning",onClick:m.closeDialog},{default:r(()=>[a("Cancel")]),_:1},8,["onClick"]),e(i,{variant:"flat",class:"mx-1",color:"primary",onClick:m.submitForm,loading:l.form.processing},{default:r(()=>[a(" Save Stand Details ")]),_:1},8,["onClick","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(q,{items:o.$page.props.stands,headers:l.headers,search:l.search},{"item.project_id":r(({item:t})=>[t.project?(c(),P("span",F,f(t.project.name),1)):U("",!0)]),"item.actions":r(({item:t})=>[p("div",I,[e(i,{class:"mx-1",color:"success"},{default:r(()=>[a("View")]),_:1}),e(i,{class:"mx-1",onClick:V=>m.editSubject(t)},{default:r(()=>[a("Edit")]),_:2},1032,["onClick"]),e(i,{color:"error",class:"mx-1",onClick:V=>m.deleteSubject(t)},{default:r(()=>[e(w,null,{default:r(()=>[a("mdi-trash-can")]),_:1})]),_:2},1032,["onClick"])])]),_:1},8,["items","headers","search"])])]),_:1})}const te=k(N,[["render",L]]);export{te as default};
